<div
  class="rounded-xl border border-gray-200 bg-white p-6 shadow-sm transition hover:shadow-md dark:border-gray-800 dark:bg-gray-800/50"
>
  <!-- Item Image -->
  <div class="mb-4 h-40 overflow-hidden rounded-lg bg-gray-100 dark:bg-gray-800">
    @if (!item.imageUrl || imageFailed) {
      <div
        class="flex h-full w-full items-center justify-center text-gray-400 dark:text-gray-500"
      >
        <svg class="h-14 w-14" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="1.5"
            d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"
          />
        </svg>
      </div>
    } @else {
      <img
        [src]="item.imageUrl"
        [alt]="item.description"
        class="h-full w-full object-cover"
        loading="lazy"
        (error)="onImageError()"
      />
    }
  </div>

  <!-- Description & Status -->
  <h3 class="mb-2 text-lg font-semibold text-gray-900 dark:text-white">
    {{ item.description }}
  </h3>
  <div class="mb-3 flex items-center gap-2">
    <span
      class="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium"
      [class.bg-success-100]="item.active"
      [class.text-success-800]="item.active"
      [class.dark:bg-success-500/20]="item.active"
      [class.dark:text-success-400]="item.active"
      [class.bg-gray-100]="!item.active"
      [class.text-gray-600]="!item.active"
      [class.dark:bg-gray-700]="!item.active"
      [class.dark:text-gray-400]="!item.active"
    >
      {{ item.active ? 'Active' : 'Inactive' }}
    </span>
  </div>

  <!-- Detail -->
  @if (item.detail) {
    <div class="mb-3 rounded-lg bg-gray-50 p-3 text-sm dark:bg-gray-900/50">
      <p class="font-medium text-gray-700 dark:text-gray-300">Detail</p>
      <p class="text-gray-600 dark:text-gray-400">
        Qty: {{ item.detail.quantity }} Â· Price: {{ formatPrice(item.detail.price) }}
      </p>
    </div>
  }

  <!-- Address -->
  @if (item.address) {
    <div class="mb-3 rounded-lg bg-gray-50 p-3 text-sm dark:bg-gray-900/50">
      <p class="font-medium text-gray-700 dark:text-gray-300">Address</p>
      <p class="text-gray-600 dark:text-gray-400">{{ item.address.addressName }}</p>
      <p class="text-xs text-gray-500 dark:text-gray-500">
        {{ item.address.latitude }}, {{ item.address.longitude }}
      </p>
    </div>
  }

  <!-- Contact -->
  @if (item.contact) {
    <div class="mb-3 rounded-lg bg-gray-50 p-3 text-sm dark:bg-gray-900/50">
      <p class="font-medium text-gray-700 dark:text-gray-300">Contact</p>
      <p class="text-gray-600 dark:text-gray-400">
        {{ item.contact.firstName }} {{ item.contact.lastName }}
      </p>
      <p class="text-gray-600 dark:text-gray-400">{{ item.contact.phone }}</p>
    </div>
  }

  <p class="text-xs text-gray-500 dark:text-gray-400">
    Created: {{ formatDate(item.createdAt) }}
  </p>
</div>
